# Calorie Clash TS + Chakra 要件定義（MVP）

**一撃で伝える要点**

- **目的：** GUI版「満腹じゃんけん」。🎮
- **価値：** 直感操作。即プレイ。🥗
- **基盤：** TypeScript + Vite + Chakra UI。⚡️

---

## 1. スコープ

- **対象:** デスクトップWeb / PWA。
- **ユーザー:** カジュアル層 / 対戦好き。
- **MVP:** 1P vs CPU、ルール選択、スコア保存。
- **非MVP:** オンライン対戦、課金、SNS連携。

## 2. 目標KPI

- 初回起動→対戦開始 **3タップ以内**。
- チュートリアル完了 **1分以内**。
- 1ゲーム平均 **90秒**。

## 3. 制約 / 前提

- フロント単体。サーバ不要（ローカルStorage使用）。
- 画面幅 360px〜。レスポンシブ必須。
- 日本語UI。英語は次期。

## 4. 用語

- **満腹度:** 上限に達すると負け。
- **ターゲットポイント:** 到達で勝利。
- **あいこ規則:** ルールで挙動切替。

## 5. ユーザーストーリー（MVP）

- **U1:** 即プレイ。タイトル→開始。
- **U2:** 手とカードを選び、勝敗・ポイント・満腹度を確認。
- **U3:** ルールを切り替える（原作準拠/簡易）。
- **U4:** 結果を記録し、ベストスコアを保持。
- **U5:** 好きな食べ物をCSVからインポートしてカードデッキを拡張。

## 5.1 原作準拠ルール（要旨）

- **カード:** 「グー/チョキ/パー」頭文字の食べ物名。
- **勝敗:** じゃんけんで決定。
- **勝者:** 出したカード名の文字数をポイント獲得。
- **敗者:** 出したカードの満腹値を加算。
- **勝利条件:** 相手を満腹でギブアップさせる or 50ポイント到達。
- **演出:** カード公開→勝敗→ポイント加算→満腹加算。

## 6. 画面一覧

1. **タイトル**
2. **ゲーム**
3. **設定**
4. **ヘルプ**
5. **CSVインポート**（次期）

## 7. 画面要件

### 7.1 タイトル

- 原作準拠/簡易トグル、開始、設定、ヘルプ。

### 7.2 ゲーム

- 自分/CPUの手とカード名、ポイント、満腹バー、ラウンド。
- カード選択UI（候補1〜3枚）。

### 7.3 設定

- 勝利ポイント50（カスタム可）。
- 満腹上限（800/1000/1300）。
- あいこ処理設定。
- アニメ/音ON-OFF。
- カードデッキ編集（UI上で編集）。
- **CSVインポート**で食べ物追加（UTF-8、カンマ区切り、ヘッダー：`hand,name,satiety`）。

### 7.4 ヘルプ

- ルール図解とCSV取り込み方法。

## 8. 機能要件（FR）

- じゃんけん判定。
- ポイント加算=文字数。
- 満腹度加算=カードの満腹値。
- 勝利条件=50点 or 相手満腹。
- ルール/デッキ保存（localStorage）。
- ベスト記録保存/読込。
- アクセシビリティ対応。
- **CSVインポート/エクスポート機能**（次期）。

## 14. データモデル（例）

```ts
export interface FoodCard {
  id: string;
  hand: 'rock' | 'paper' | 'scissors';
  name: string;
  points: number;
  satiety: number;
}

export interface GameRule {
  targetPoints: 30 | 40 | 50;
  physique: 800 | 1000 | 1300;
  tieRule: 'no_count' | 'satiety_plus_both';
  animation: boolean;
  sound: boolean;
  deck: FoodCard[];
  mode: 'original' | 'simple';
}

export interface CsvImportResult {
  success: boolean;
  errors?: string[];
  importedCards?: FoodCard[];
}
```

## 27. バックログ（次期）

- CPU思考レベル。
- リプレイ。
- 連勝ボーナス。
- コスチュームスキン。
- **CSVインポート/エクスポートによるカード共有**。

